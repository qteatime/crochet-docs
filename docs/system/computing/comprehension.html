<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Effects" href="../effects/index.html" /><link rel="prev" title="Branching" href="branching.html" />

    <meta name="generator" content="sphinx-4.1.1, furo 2021.07.05.beta38"/>
        <title>Working with multiple values - Crochet 0.12 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/crochet.css" />
    


<style>
  :root {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../_static/pygments_dark.css"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Crochet 0.12 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Crochet 0.12 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">The Crochet System</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../whats-crochet.html">What’s Crochet?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing-crochet.html">Installing Crochet</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../structure/index.html">How is Crochet structured?</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../structure/introduction.html">The Crochet universe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../structure/package-configuration.html">Package configuration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../types/index.html">Data and types</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../types/types-and-data.html">Types and data modelling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../types/hierarchies.html">Hierarchies of types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../types/traits.html">Traits</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../commands/index.html">Commands</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../commands/declaration.html">What are commands?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/signatures.html">Signatures and their uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/dispatch.html">Executing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/why.html">Why are commands …?</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Computing with Crochet</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="execution-models.html">Execution models</a></li>
<li class="toctree-l3"><a class="reference internal" href="bindings.html">Naming values</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="intrinsics/index.html">Intrinsic data types</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/gradual.html">Gradual representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/numbers.html">Numeric models</a></li>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/text.html">Textual models</a></li>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/logic.html">Logical models</a></li>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/functions.html">Program representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="intrinsics/collections.html">Collections</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="application.html">Applying programs and commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html">Using data</a></li>
<li class="toctree-l3"><a class="reference internal" href="equality.html">Equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="branching.html">Branching</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Working with multiple values</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../effects/index.html">Effects</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../effects/what-are-effects.html">What are effects?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../effects/handlers.html">Effect handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../effects/contexts.html">Contextual handlers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design-philosophy.html">Annex A: Design philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sociology-and-linguistics.html">Annex B: Sociology and linguistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="working-with-multiple-values">
<h1>Working with multiple values<a class="headerlink" href="#working-with-multiple-values" title="Permalink to this headline">¶</a></h1>
<p>Lists, records, and other ways of combining multiple values
are a convenience, but sometimes we want to treat all of
these values uniformly and do things with them.</p>
<p>For most cases, Crochet’s standard library for collections
provides a set of commands for different needs here: things
like transforming, filtering, or sorting collections. But
Crochet also has some lower level syntaxes for this that
can be useful from time to time.</p>
<div class="section" id="the-for-in-do-syntax">
<h2>The <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span> <span class="pre">do</span> <span class="pre">..</span></code> syntax<a class="headerlink" href="#the-for-in-do-syntax" title="Permalink to this headline">¶</a></h2>
<p>If you’re familiar with other programming languages, you might
have seen things like “iterators” or “list comprehensions”.
Crochet has a similar idea in its <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span> <span class="pre">do</span> <span class="pre">..</span></code>
syntax. It allows one to do something for each item of
a collection.</p>
<p>For example, consider the case where we have a list of
characters, and we want to show which book they appear
in. We could express this program as follows:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Characters</span> <span class="p">=</span> <span class="p">[</span>
  <span class="p">[</span>name <span class="o">-&gt;</span> <span class="dl">"</span><span class="s2">Alice</span><span class="dl">"</span><span class="p">,</span> appears-in <span class="o">-&gt;</span> <span class="dl">"</span><span class="s2">Alice in Wonderland</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">[</span>name <span class="o">-&gt;</span> <span class="dl">"</span><span class="s2">Dorothy</span><span class="dl">"</span><span class="p">,</span> appears-in <span class="o">-&gt;</span> <span class="dl">"</span><span class="s2">The Wizard of Oz</span><span class="dl">"</span><span class="p">],</span>
<span class="p">];</span>

<span class="k">for</span> <span class="nv">Character</span> <span class="k">in</span> <span class="nv">Characters</span> <span class="k">do</span>
  <span class="nf">show:</span> <span class="dl">"</span><span class="si">[</span><span class="nv">Character</span><span class="p">.</span>name<span class="si">]</span><span class="s2"> appears in </span><span class="si">[</span><span class="nv">Character</span><span class="p">.</span>appears-in<span class="si">]</span><span class="s2">.</span><span class="dl">"</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This could output:</p>
<blockquote>
<div><p>Alice appears in Alice in Wonderland.</p>
<p>Dorothy appears in The Wizard of Oz.</p>
</div></blockquote>
<p>Here, for each item in the <code class="docutils literal notranslate"><span class="pre">Characters</span></code> collection, we will
execute this little program between the <code class="docutils literal notranslate"><span class="pre">do</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> words.
And each time we execute this program, the name <code class="docutils literal notranslate"><span class="pre">Character</span></code> will
be associated with one of the items in the collection. For lists,
the default behaviour is to go through the items in the order they
appear in the list.</p>
<div class="section" id="filtering-items">
<h3>Filtering items<a class="headerlink" href="#filtering-items" title="Permalink to this headline">¶</a></h3>
<p>When using the <code class="docutils literal notranslate"><span class="pre">for</span></code> syntax, we can also specify which items we
don’t want to do anything with, directly in the syntax itself. This
avoids having to use a condition within the program, and often makes
things easier to read.</p>
<p>For example, consider the case where we’re showing the items in a
player inventory, but we only want to show the key story items—not
regular, consumable items the player could’ve got from one of the
shops along their way. We could achieve this with the following piece
of code:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Inventory</span> <span class="p">=</span> <span class="p">[</span>
  <span class="k">new</span> key-item<span class="p">(</span>blue-booch<span class="p">),</span>
  <span class="k">new</span> consumable<span class="p">(</span>potion<span class="p">,</span> <span class="mf">10</span><span class="p">),</span>
  <span class="k">new</span> equipment<span class="p">(</span>red-coat<span class="p">),</span>
  <span class="k">new</span> key-item<span class="p">(</span>letter-from-alice<span class="p">),</span>
<span class="p">];</span>

<span class="nf">show:</span> <span class="dl">"</span><span class="s2">You're carrying:</span><span class="dl">"</span><span class="p">;</span>
<span class="k">for</span> <span class="nv">Item</span> <span class="k">in</span> <span class="nv">Inventory</span> <span class="k">if</span> <span class="nv">Item</span> <span class="k">is</span> key-item <span class="k">do</span>
  <span class="nf">show:</span> <span class="dl">"</span><span class="s2">A </span><span class="si">[</span><span class="nv">Item</span> name<span class="si">]</span><span class="s2">.</span><span class="dl">"</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This could output:</p>
<blockquote>
<div><p>You’re carrying:</p>
<p>A blue brooch.</p>
<p>A letter from Alice.</p>
</div></blockquote>
<p>In this case, we’ll still go through all of the items in the inventory,
but we’ll only execute the body of the <code class="docutils literal notranslate"><span class="pre">for</span></code> syntax if the item we’re
looking at is of the type <code class="docutils literal notranslate"><span class="pre">key-item</span></code>. So we execute the body twice.
Once for <code class="docutils literal notranslate"><span class="pre">blue-brooch</span></code> and once for <code class="docutils literal notranslate"><span class="pre">letter-from-alice</span></code>.</p>
</div>
<div class="section" id="combining-collections">
<h3>Combining collections<a class="headerlink" href="#combining-collections" title="Permalink to this headline">¶</a></h3>
<p>Sometimes we have several collections that we want to consider when
doing something. For example, let’s say we have a list of keys and
a list of locked objects. The game wants to give the player a hint
that shows which keys can open which objects, but some keys can
open multiple things.</p>
<p>Here, what we really want is to go through every key, and then
for each locked object, verify if we can use that key to open it.
This can be achieved in Crochet by using multiple <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span></code>
clauses in the for syntax:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Keys</span> <span class="p">=</span> <span class="p">[</span>red-key<span class="p">,</span> golden-key<span class="p">,</span> blue-key<span class="p">];</span>
<span class="k">let</span> <span class="nv">Objects</span> <span class="p">=</span> <span class="p">[</span>music-box<span class="p">,</span> desk-drawer<span class="p">,</span> jewelry-box<span class="p">];</span>

<span class="k">for</span> <span class="nv">Key</span> <span class="k">in</span> <span class="nv">Keys</span><span class="p">,</span> <span class="nv">Object</span> <span class="k">in</span> <span class="nv">Objects</span> <span class="k">if</span> <span class="nv">Key</span> <span class="nf">opens:</span> <span class="nv">Object</span> <span class="k">do</span>
  <span class="nf">show:</span> <span class="dl">"</span><span class="si">[</span><span class="nv">Key</span><span class="si">]</span><span class="s2"> can open </span><span class="si">[</span><span class="nv">Object</span><span class="si">]</span><span class="s2">.</span><span class="dl">"</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>If the red-key the music box, the blue-key opens the desk drawer, and the golden-key
opens anything, then this could output:</p>
<blockquote>
<div><p>The red key can open the music box.</p>
<p>The golden key can open the music box.</p>
<p>The golden key can open the desk drawer.</p>
<p>The golden key can open the jewelry box.</p>
<p>The blue key can open the desk drawer.</p>
</div></blockquote>
<p>We could also nest these <code class="docutils literal notranslate"><span class="pre">for</span></code> syntaxes for similar effect:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">Key</span> <span class="k">in</span> <span class="nv">Keys</span> <span class="k">do</span>
  <span class="k">for</span> <span class="nv">Object</span> <span class="k">in</span> <span class="nv">Objects</span> <span class="k">if</span> <span class="nv">Key</span> <span class="nf">opens:</span> <span class="nv">Object</span> <span class="k">do</span>
    <span class="nf">show:</span> <span class="dl">"</span><span class="si">[</span><span class="nv">Key</span><span class="si">]</span><span class="s2"> can open </span><span class="si">[</span><span class="nv">Object</span><span class="si">]</span><span class="dl">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This has the same observable behaviour, but the resulting <em>value</em>
of this for expressions is slightly different.</p>
</div>
<div class="section" id="results-of-for-syntaxes">
<h3>Results of <code class="docutils literal notranslate"><span class="pre">for</span></code> syntaxes<a class="headerlink" href="#results-of-for-syntaxes" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">for</span></code> syntax isn’t only used for doing things. It can also
be used to transform and filter a collection, yielding a new
collection as a result.</p>
<p>For example, if we have a list of numbers, like this:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Numbers</span> <span class="p">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">5</span><span class="p">];</span>
</pre></div>
</div>
<p>Then we can get the list of these numbers doubled using the <code class="docutils literal notranslate"><span class="pre">for</span></code> syntax:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Doubled</span> <span class="p">=</span> <span class="k">for</span> <span class="nv">Number</span> <span class="k">in</span> <span class="nv">Numbers</span> <span class="k">do</span> <span class="nv">Number</span> <span class="o">*</span> <span class="mf">2</span> <span class="k">end</span><span class="p">;</span>

<span class="c1">// Equivalent to:</span>
<span class="p">[</span>
  <span class="mf">1</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span>
  <span class="mf">2</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span>
  <span class="mf">3</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span>
  <span class="mf">4</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span>
  <span class="mf">5</span> <span class="o">*</span> <span class="mf">2</span>
<span class="p">];</span>
</pre></div>
</div>
<p>We can also filter the list, keeping only the even numbers, using the
<code class="docutils literal notranslate"><span class="pre">for</span></code> syntax:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Even</span> <span class="p">=</span> <span class="k">for</span> <span class="nv">Number</span> <span class="k">in</span> <span class="nv">Numbers</span> <span class="k">if</span> <span class="nv">Number</span> <span class="nf">is-divisible-by:</span> <span class="mf">2</span> <span class="k">do</span> <span class="nv">Number</span> <span class="k">end</span><span class="p">;</span>

<span class="c1">// Equivalent to:</span>
<span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">4</span><span class="p">]</span>
</pre></div>
</div>
<p>And here’s why this makes the choice of using multiple <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span></code> clauses
in the for syntax a bit different from nesting them. Imagine we have a list
of characters, and then a list of locations. We want all combinations of
characters and locations, so we combine these lists with the <code class="docutils literal notranslate"><span class="pre">for</span></code> syntax:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Characters</span> <span class="p">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Alice</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Dorothy</span><span class="dl">"</span><span class="p">];</span>

<span class="k">let</span> <span class="nv">Locations</span> <span class="p">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Hall</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Dinning Room</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Kitchen</span><span class="dl">"</span><span class="p">];</span>

<span class="k">let</span> <span class="nv">Combined</span> <span class="p">=</span> <span class="k">for</span> <span class="nv">Character</span> <span class="k">in</span> <span class="nv">Characters</span><span class="p">,</span> <span class="nv">Location</span> <span class="k">in</span> <span class="nv">Locations</span> <span class="k">do</span>
                 <span class="dl">"</span><span class="si">[</span><span class="nv">Character</span><span class="si">]</span><span class="s2"> at the </span><span class="si">[</span><span class="nv">Location</span><span class="si">]</span><span class="dl">"</span>
               <span class="k">end</span><span class="p">;</span>
</pre></div>
</div>
<p>By writing the program like this, combined will have the following value:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="dl">"</span><span class="s2">Alice at the Hall</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Alice at the Dinning Room</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Alice at the Kitchen</span><span class="dl">"</span><span class="p">,</span>

  <span class="dl">"</span><span class="s2">Dorothy at the Hall</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Dorothy at the Dinning Room</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Dorothy at the Kitchen</span><span class="dl">"</span><span class="p">,</span>
<span class="p">];</span>
</pre></div>
</div>
<p>But if we nest it, like so:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">Character</span> <span class="k">in</span> <span class="nv">Characters</span> <span class="k">do</span>
  <span class="k">for</span> <span class="nv">Location</span> <span class="k">in</span> <span class="nv">Locations</span> <span class="k">do</span>
    <span class="dl">"</span><span class="si">[</span><span class="nv">Character</span><span class="si">]</span><span class="s2"> in the </span><span class="si">[</span><span class="nv">Location</span><span class="si">]</span><span class="dl">"</span><span class="p">;</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Then we end up with a slightly different list:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">[</span>
    <span class="dl">"</span><span class="s2">Alice at the Hall</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Alice at the Dinning Room</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Alice at the Kitchen</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">],</span>

  <span class="p">[</span>
    <span class="dl">"</span><span class="s2">Dorothy at the Hall</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Dorothy at the Dinning Room</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Dorothy at the Kitchen</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">],</span>
<span class="p">];</span>
</pre></div>
</div>
<p>So, in the first case, we get a flat list containing all of the combinations.
In the second case, we get a nested list containing the combinations. The
result more or less follows the form we choose to write the program.</p>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../effects/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Effects</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="branching.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Branching</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Q.
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../../_sources/system/computing/comprehension.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Working with multiple values</a><ul>
<li><a class="reference internal" href="#the-for-in-do-syntax">The <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span> <span class="pre">do</span> <span class="pre">..</span></code> syntax</a><ul>
<li><a class="reference internal" href="#filtering-items">Filtering items</a></li>
<li><a class="reference internal" href="#combining-collections">Combining collections</a></li>
<li><a class="reference internal" href="#results-of-for-syntaxes">Results of <code class="docutils literal notranslate"><span class="pre">for</span></code> syntaxes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/main.js"></script>
    </body>
</html>