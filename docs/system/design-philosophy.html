<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Annex B: Sociology and linguistics" href="sociology-and-linguistics.html" /><link rel="prev" title="Logical models" href="computing/intrinsics/logic.html" />

    <meta name="generator" content="sphinx-4.1.1, furo 2021.07.05.beta38"/>
        <title>Annex A: Design philosophy - Crochet 0.12 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/crochet.css" />
    


<style>
  :root {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Crochet 0.12 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Crochet 0.12 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">The Crochet System</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="whats-crochet.html">What’s Crochet?</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-crochet.html">Installing Crochet</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="structure/index.html">How is Crochet structured?</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="structure/introduction.html">The Crochet universe</a></li>
<li class="toctree-l3"><a class="reference internal" href="structure/package-configuration.html">Package configuration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="types/index.html">Data and types</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="types/types-and-data.html">Types and data modelling</a></li>
<li class="toctree-l3"><a class="reference internal" href="types/using.html">Using typed data</a></li>
<li class="toctree-l3"><a class="reference internal" href="types/hierarchies.html">Hierarchies of types</a></li>
<li class="toctree-l3"><a class="reference internal" href="types/traits.html">Traits</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="commands/index.html">Commands</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/declaration.html">What are commands?</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/signatures.html">Signatures and their uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/dispatch.html">Executing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/why.html">Why are commands …?</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="computing/index.html">Computing with Crochet</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="computing/execution-models.html">Execution models</a></li>
<li class="toctree-l3"><a class="reference internal" href="computing/bindings.html">Naming values</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="computing/intrinsics/index.html">Intrinsic data types</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="computing/intrinsics/gradual.html">Gradual representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="computing/intrinsics/numbers.html">Numeric models</a></li>
<li class="toctree-l4"><a class="reference internal" href="computing/intrinsics/text.html">Textual models</a></li>
<li class="toctree-l4"><a class="reference internal" href="computing/intrinsics/logic.html">Logical models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Annex A: Design philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="sociology-and-linguistics.html">Annex B: Sociology and linguistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="annex-a-design-philosophy">
<h1>Annex A: Design philosophy<a class="headerlink" href="#annex-a-design-philosophy" title="Permalink to this headline">¶</a></h1>
<p>Crochet was born to make programming interactive fiction games more
accessible to writers and artists—or rather, more accessible to
non-professional programmers who want to use computers for their
own creative endeavours.</p>
<p>Both Core Crochet and Surface Crochet have evolved a lot since them,
but they still embody much of this philosophy. If the language was
described in a single sentence, it would be: “A tool for safely
experimenting with interactive computer art.” For a broader meaning
of “art,” that covers any creative uses of computers.</p>
<div class="section" id="design-principles">
<h2>Design principles<a class="headerlink" href="#design-principles" title="Permalink to this headline">¶</a></h2>
<p>Core to this goal are three tenets:</p>
<div class="section" id="safety-comes-first">
<h3>“Safety comes first!”<a class="headerlink" href="#safety-comes-first" title="Permalink to this headline">¶</a></h3>
<p>If we want people to experiment and collaborate in programming, we must
provide them with a safe environment to do so. Collaboration isn’t optional,
there is no way of building any modern software without relying on other
people’s code. And as soon as we accept it, we also need to accept that
the threats to safe experimentation aren’t just accidental damage; we must
also protect people from malicious actors.</p>
<p>Crochet goes through great lengths to make experimentation safer: adopting
the Principle of Least Authority, using Capability Security, isolating
effects with Algebraic Effect Handlers (this is important to avoid
accidental damage during experimentation), and controlling resource usage
through Computational Zones.</p>
</div>
<div class="section" id="privacy-is-required-for-safety">
<h3>“Privacy is required for safety!”<a class="headerlink" href="#privacy-is-required-for-safety" title="Permalink to this headline">¶</a></h3>
<p>Security problems may have immediately visible consequences, but privacy
problems don’t always have that. However, both of these can make people
<em>feel</em> unsafe, and both of them have the potential of harming actual
people. Therefore, if we’re aiming for a safe experimentation platform,
we must value privacy as much as we value security.</p>
<p>The combination of security and privacy-respecting code requires us to
treat all pieces of code as “untrusted and potentially dangerous”. So
Crochet approaches privacy through ideas from Information Flow combined
with ideas from Capability Security. The way it actually addresses
the problem does not provide any non-interference guarantees, but
the guarantees it does provide are often reasonable for the domains
Crochet aims for.</p>
</div>
<div class="section" id="rich-immediate-feedback-is-key-to-experiment">
<h3>“Rich, immediate feedback is key to experiment”<a class="headerlink" href="#rich-immediate-feedback-is-key-to-experiment" title="Permalink to this headline">¶</a></h3>
<p>When we’re experimenting with an idea, we may approach it from different
angles we want to observe what the effects of all of these approaches are,
how they compare to each other. We want to understand, and sometimes this
“understanding” requires comparisons as well.</p>
<p>Programming tools often fall short of addressing this, and instead focus
on static reasoning, requiring people to learn and reproduce all of the
semantics by heart in order to figure out the effects of certain changes.
Meanwhile, data science tends to rely a lot more on observations of data
with things like interactive notebooks.</p>
<p>Live-programming, immediate feedback, and direct manipulation aren’t exactly
new concepts in programming language tools, but they are often not well
integrated or flexible. The confinement of most REPL tools to the command
line does them a disservice by limiting too much of the data representation
and interaction—because you want to interact with it, explore specific
cases, figure out patterns in it, understand how they relate to your program.</p>
<p>So Crochet takes a tooling-first approach, preferring features that lend
themselves well to immediate feedback and hot-patching (required for
live-programming), as well as allowing people to choose different
representations for the same piece of data, and different ways of
manipulating it (direct manipulations or programmatic manipulations).
This is one of the reasons Crochet limits things like lambdas, which
are so common in functional languages, and approaches interactive
programming through the idea of Program Versioning.</p>
</div>
</div>
<div class="section" id="language-domains">
<h2>Language domains<a class="headerlink" href="#language-domains" title="Permalink to this headline">¶</a></h2>
<p>Although people often categorise languages like Crochet as “general-purpose,”
the category is unhelpful in understanding the language’s tradeoffs, usage,
and philosophy. So, instead, Crochet is very explicit with the domains it’s
optimised for.</p>
<div class="section" id="interactive-fiction">
<h3>Interactive fiction<a class="headerlink" href="#interactive-fiction" title="Permalink to this headline">¶</a></h3>
<p>The original motivation to design a language like Crochet was to make it
easier to build Interactive Fiction games, particularly ones with strongly
independent, AI-driven NPCs. The term “Interactive Fiction” here covers
many narrative-driven (and adjacent) games such as Visual Novels, RPGs, and
Environmental Simulations.</p>
<p>Crochet helps these games with a Symbolic Logic sub-language that relies
on a Global Fact Database. A Simulation sub-language allows expressing
game rules (and game agents’ behaviour) declaratively, and in a way that
allows the runtime to verify and optimise their execution.</p>
</div>
<div class="section" id="software-verification">
<h3>Software verification<a class="headerlink" href="#software-verification" title="Permalink to this headline">¶</a></h3>
<p>It turns out that Model Checking falls quite closely to the idea of
expressing game rules in a declarative and verifiable manner. Crochet lends
itself better to Stochastic Model Checking (such as Property-Based Testing),
and Bounded Model Checking, since there are usability features of the
underlying symbolic logic that prevent translations to common model checking
tools.</p>
<p>Crochet’s Algebraic Effect Handlers and Tracing Debugger provide a very
good basis for applying model checking to <em>external</em> languages, in ways that
are recordable, reproducible, and interactively explorable going both forwards
and backwards in time. The Simulation sub-language allows one to express
these models in concise ways, in similar fashion to tools such as Alloy.</p>
</div>
<div class="section" id="cross-platform-automation">
<h3>Cross-platform automation<a class="headerlink" href="#cross-platform-automation" title="Permalink to this headline">¶</a></h3>
<p>Crochet’s approach to interactive experimentation, along with the idea of
Algebraic Effect Handlers and Capability Security, provides a safe
way for people to play around with software automation. The
Interactive Playground provides richer feedback than what is possible
with common Shells (such as Bash, Fish, etc), while at the same time
being cross-platform and reproducible (one can turn a playground session
into an actual program).</p>
<p>The playground is particularly nice with potentially destructive operations,
as it offers the possibility of “dry-running” for free, without any changes
to the code, underlying programs, or even online services. Reproducibility
follows the same, with the possibility of recording and replaying sessions
without hitting external services.</p>
<p>The obvious drawbacks here are that common *nix tools need to be reimplemented
in Crochet, but since this is a domain Crochet aims to excel at, reimplementing
these tools with the mentioned features and reasonable performance is a
goal for the standard library as well.</p>
</div>
<div class="section" id="procedural-generation">
<h3>Procedural generation<a class="headerlink" href="#procedural-generation" title="Permalink to this headline">¶</a></h3>
<p>Some games, such as Roguelikes, rely a lot on procedurally generated content,
but this is often useful for Interactive Fiction and simulations as well. The
Simulation sub-language’s use of Stochastic Search allows some common
procedural algorithms to be written declaratively in Crochet.</p>
<p>Further, supporting Interactive Fiction with strong AIs also requires work on
things such as procedural dialogues, and these same tools can be used for
non-game procedural content such as Twitter bots.</p>
</div>
<div class="section" id="language-tools">
<h3>Language tools<a class="headerlink" href="#language-tools" title="Permalink to this headline">¶</a></h3>
<p>Crochet is a “language-driven” system, through the lenses that we interact
with computational concepts through languages; Even “direct manipulation”
forms a language, where the ways in which we can manipulate things is dictated
by a set of composable rules. A system like this, heavily dependent on tooling,
needs ways in which users can extend the system to fit their own context.
This means that Crochet <em>has</em> to support user-extensible IDEs, user-extensible
Debuggers, user-extensible REPLs, etc. And these users should be able to modify
any aspect of these tools to fit new languages (interactions, manipulations,
rules, etc).</p>
<p>To this end Crochet is somewhat similar to Language Workbenches, such as
Spoofax, but also similar to other “language-driven” systems, such as
Racket and Glamorous Toolkit.</p>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="sociology-and-linguistics.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Annex B: Sociology and linguistics</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="computing/intrinsics/logic.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Logical models</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Q.
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/system/design-philosophy.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Annex A: Design philosophy</a><ul>
<li><a class="reference internal" href="#design-principles">Design principles</a><ul>
<li><a class="reference internal" href="#safety-comes-first">“Safety comes first!”</a></li>
<li><a class="reference internal" href="#privacy-is-required-for-safety">“Privacy is required for safety!”</a></li>
<li><a class="reference internal" href="#rich-immediate-feedback-is-key-to-experiment">“Rich, immediate feedback is key to experiment”</a></li>
</ul>
</li>
<li><a class="reference internal" href="#language-domains">Language domains</a><ul>
<li><a class="reference internal" href="#interactive-fiction">Interactive fiction</a></li>
<li><a class="reference internal" href="#software-verification">Software verification</a></li>
<li><a class="reference internal" href="#cross-platform-automation">Cross-platform automation</a></li>
<li><a class="reference internal" href="#procedural-generation">Procedural generation</a></li>
<li><a class="reference internal" href="#language-tools">Language tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/main.js"></script>
    </body>
</html>